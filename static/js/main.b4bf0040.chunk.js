(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={App:"App_App__3VtKd",Wrapper:"App_Wrapper__3nvOD",Btn:"App_Btn__1sDKd"}},58:function(t,e,n){"use strict";n.r(e);var c,r,a=n(1),o=n(0),u=n.n(o),i=n(12),s=n.n(i),b=n(6),d=n(8),j=n(2),f=n(7),l=n(4),O=n(3),h={fetchContactsRequest:Object(j.b)("fetchContactsRequest"),fetchContactsSuccess:Object(j.b)("fetchContactsSuccess"),fetchContactsError:Object(j.b)("fetchContactsError"),addContactRequest:Object(j.b)("addContactRequest"),addContactSuccess:Object(j.b)("addContactSuccess"),addContactError:Object(j.b)("addContactError"),deleteContactRequest:Object(j.b)("deleteContactRequest"),deleteContactSuccess:Object(j.b)("deleteContactSucess"),deleteContactError:Object(j.b)("deleteContactError"),changeFilter:Object(j.b)("phoneBook/Filter")},C=h.fetchContactsRequest,p=h.fetchContactsSuccess,m=h.fetchContactsError,x=h.addContactRequest,v=h.addContactSuccess,g=h.addContactError,S=h.deleteContactRequest,q=h.deleteContactSuccess,E=h.deleteContactError,R=(h.changeFilter,Object(j.c)([],(c={},Object(l.a)(c,p,(function(t,e){return e.payload})),Object(l.a)(c,v,(function(t,e){return[e.payload].concat(Object(d.a)(t))})),Object(l.a)(c,q,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c))),y=Object(j.c)(!1,(r={},Object(l.a)(r,C,(function(){return!0})),Object(l.a)(r,p,(function(){return!1})),Object(l.a)(r,m,(function(){return!1})),Object(l.a)(r,x,(function(){return!0})),Object(l.a)(r,v,(function(){return!1})),Object(l.a)(r,g,(function(){return!1})),Object(l.a)(r,S,(function(){return!0})),Object(l.a)(r,q,(function(){return!1})),Object(l.a)(r,E,(function(){return!1})),r)),F=Object(j.c)("",Object(l.a)({},h.changeFilter,(function(t,e){return e.payload}))),w=Object(O.c)({contacts:R,filter:F,loading:y}),_=Object(d.a)(Object(j.d)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})),k=Object(j.a)({reducer:w,middleware:_,devTools:!1}),A=n(11),L=n.n(A);L.a.defaults.baseURL="http://localhost:3030";var B=function(){return function(t){t(h.fetchContactsRequest()),L.a.get("/contacts").then((function(e){var n=e.data;return t(h.fetchContactsSuccess(n))})).catch((function(e){return t(h.fetchContactsError(e))}))}},N=function(t,e){return function(n){var c={name:t,number:e};n(h.addContactRequest()),L.a.post("./contacts",c).then((function(t){var e=t.data;return n(h.addContactSuccess(e))})).catch((function(t){return n(h.addContactError(t))}))}},D=function(t){return function(e){e(h.deleteContactRequest()),L.a.delete("/contacts/".concat(t)).then((function(){return e(h.deleteContactSuccess(t))})).catch((function(t){return e(h.deleteContactError(t))}))}},M=n(19),T=n(60),W=n(10),J=n.n(W),K=Object(b.b)((function(t){return{contacts:t.contacts}}),(function(t){return{onSubmit:function(e,n){return t(N(e,n))}}}))((function(t){var e=t.contacts,n=t.onSubmit,c=Object(o.useState)(""),r=Object(M.a)(c,2),u=r[0],i=r[1],s=Object(o.useState)(""),b=Object(M.a)(s,2),j=b[0],f=b[1],l=Object(T.a)(),O=Object(T.a)(),h=function(){i(""),f("")};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),e.find((function(t){return t.name.toLowerCase()===u.toLowerCase()})))return alert("".concat(u," is already in contacts")),void h();n(u,j),h()},children:[Object(a.jsxs)("label",{htmlFor:l,children:["Name",Object(a.jsx)("input",{id:l,type:"text",value:u,onChange:function(t){i.apply(void 0,[t.currentTarget.value].concat(Object(d.a)(u)))},required:!0})]}),Object(a.jsxs)("label",{htmlFor:O,children:["Number",Object(a.jsx)("input",{id:O,type:"tel",value:j,onChange:function(t){f(t.currentTarget.value)},required:!0})]}),Object(a.jsx)("button",{className:J.a.Btn,type:"submit",children:"Add contact"})]})})})),z=n(13),I=function(t){return t.loading},P=function(t){return t.filter},U=Object(z.a)([P,function(t){return t.contacts}],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)||t.number.includes(n)}))})),V=Object(b.b)((function(t){return{value:P(t)}}),(function(t){return{onSubmit:function(e){return t(h.changeFilter(e.target.value))}}}))((function(t){var e=t.value,n=t.onSubmit;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Find contacts by name "}),Object(a.jsx)("input",{type:"text",value:e,onChange:n})]})})),G=Object(b.b)((function(t){return{contacts:U(t)}}),(function(t){return{delMethot:function(e){return t(D(e))}}}))((function(t){var e=t.contacts,n=t.delMethot;return Object(a.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.name,r=t.number;return Object(a.jsxs)("li",{children:[c,":",r,Object(a.jsx)("button",{onClick:function(){return n(e)},children:"Delete"})]},e)}))})})),H=Object(b.b)((function(t){return{isLoading:I(t)}}),(function(t){return{fetchContacts:function(){return t(B())}}}))((function(t){var e=t.isLoading,n=t.fetchContacts;return Object(o.useEffect)((function(){n()}),[n]),Object(a.jsx)("div",{className:J.a.App,children:Object(a.jsxs)("div",{className:J.a.Wrapper,children:[Object(a.jsx)("h1",{children:"Phonebook"}),Object(a.jsx)(K,{}),e?Object(a.jsx)("h1",{children:"Loading..."}):Object(a.jsx)("h2",{children:"Contacts"}),Object(a.jsx)(V,{}),Object(a.jsx)(G,{})]})})}));s.a.render(Object(a.jsx)(u.a.StrictMode,{children:Object(a.jsx)(b.a,{store:k,children:Object(a.jsx)(H,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.b4bf0040.chunk.js.map